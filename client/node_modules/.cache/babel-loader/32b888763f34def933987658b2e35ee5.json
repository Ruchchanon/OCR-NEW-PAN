{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\false\\\\Desktop\\\\OCR-New-Kop\\\\client\\\\src\\\\pages\\\\user\\\\inedu\\\\Inedu.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport CardPost from './Card/CardPost';\nimport Cards from './Card/Cards';\nimport SearchBox from '../../../components/UserComponent/SearchBox/SearchBox';\nimport './inobj.css';\nimport ReactPaginate from 'react-paginate';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { registerLocale, setDefaultLocale } from \"react-datepicker\";\nimport th from 'date-fns/locale/th';\nimport { BlockOutlined, UnorderedListOutlined, FilePdfTwoTone } from '@ant-design/icons';\nimport { getInEdu } from '../../../functions/inedu';\nimport { toast } from 'react-toastify';\nimport { ConfigProvider, DatePicker, Table } from 'antd';\nimport { AiOutlineVerticalAlignBottom } from \"react-icons/ai\";\nimport DownloadLink from \"react-download-link\";\nimport locale from 'antd/lib/locale/th_TH';\nimport IconButton from '@mui/material/IconButton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Inmoney() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [searchText, setSearchText] = useState('');\n  const [searchNo, setSearchNo] = useState('');\n  const {\n    RangePicker\n  } = DatePicker;\n  const [hackValue, setHackValue] = useState();\n  const [value, setValue] = useState();\n  const [dates, setDates] = useState([]);\n  const [person, setPerson] = useState([]);\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n  const [game, setGame] = useState('card');\n  const {\n    Column,\n    ColumnGroup\n  } = Table;\n  useEffect(() => {\n    loadPerson(user.token);\n  }, []);\n\n  const loadPerson = authtoken => {\n    getInEdu(authtoken).then(res => {\n      setPerson(res.data);\n      console.log(res.data);\n    }).catch(err => {\n      toast.error(err);\n      console.log(err);\n    });\n  };\n\n  registerLocale('th', th);\n\n  const disabledDate = current => {\n    if (!dates || dates.length === 0) {\n      return false;\n    }\n\n    const tooLate = dates[0] && current.diff(dates[0], 'days') > 7;\n    const tooEarly = dates[1] && dates[1].diff(current, 'days') > 7;\n    return tooEarly || tooLate;\n  };\n\n  const onOpenChange = open => {\n    if (open) {\n      setHackValue([]);\n      setDates([]);\n    } else {\n      setHackValue(undefined);\n    }\n  };\n\n  function onCardOpenClick(theCard) {\n    setSelectedCard(theCard);\n  }\n\n  function onCardCloseClick() {\n    setSelectedCard(null);\n  }\n\n  const filteredCards = person.filter(person => person.name.includes(searchText)).filter(person => person.locate.includes(searchNo));\n  const filteredData = person.filter(CardData => CardData.name.includes(searchText)).filter(CardData => CardData.locate.includes(searchNo));\n  const cardElements = filteredCards.map((CardData, index) => {\n    return /*#__PURE__*/_jsxDEV(Cards, {\n      CardData: CardData,\n      onCardClick: onCardOpenClick\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 14\n    }, this);\n  });\n\n  function Items(_ref) {\n    let {\n      currentItems\n    } = _ref;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: currentItems && currentItems.map(cardElements => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: cardElements\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this))\n    }, void 0, false);\n  }\n\n  function PaginatedItems(_ref2) {\n    _s();\n\n    let {\n      itemsPerPage\n    } = _ref2;\n    // We start with an empty list of items.\n    const [currentItems, setCurrentItems] = useState(null);\n    const [pageCount, setPageCount] = useState(0); // Here we use item offsets; we could also use page offsets\n    // following the API or data you're working with.\n\n    const [itemOffset, setItemOffset] = useState(0);\n    useEffect(() => {\n      // Fetch items from another resources.\n      const endOffset = itemOffset + itemsPerPage;\n      console.log(`Loading items from ${itemOffset} to ${endOffset}`);\n      setCurrentItems(cardElements.slice(itemOffset, endOffset));\n      setPageCount(Math.ceil(cardElements.length / itemsPerPage));\n    }, [itemOffset, itemsPerPage]); // Invoke when user click to request another page.\n\n    const handlePageClick = event => {\n      const newOffset = event.selected * itemsPerPage % cardElements.length;\n      console.log(`User requested page number ${event.selected}, which is offset ${newOffset}`);\n      setItemOffset(newOffset);\n    };\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app-grid\",\n        children: [/*#__PURE__*/_jsxDEV(Items, {\n          currentItems: currentItems\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ReactPaginate, {\n          breakLabel: \"...\",\n          nextLabel: \">\",\n          onPageChange: handlePageClick,\n          pageRangeDisplayed: 5,\n          pageCount: pageCount,\n          previousLabel: \"<\",\n          renderOnZeroPageCount: null,\n          containerClassName: \"paginationBttns\",\n          previousClassName: \"previousBttn\",\n          nextLinkClassName: \"nextBttn\",\n          disabledClassName: \"paginationDisabled\",\n          activeClassName: \"paginationActive\",\n          pageRangeDisplayed: 2,\n          marginPagesDisplayed: 2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }\n  /*const columns = [\r\n      {\r\n      title: 'เรื่อง',\r\n      dataIndex: 'name',\r\n      key: 'name'\r\n    },\r\n    {\r\n        title: 'Download',\r\n        render: (record) => (\r\n            <DownloadLink className=\"button-field-download\"  filename={record.pic} label=\"Download\" >\r\n               \r\n                <AiOutlineVerticalAlignBottom className=\"button-icon-download\"/>          \r\n                <div className=\"button-text-download\">\r\n                ดาวน์โหลด</div>\r\n            </DownloadLink>\r\n        )\r\n    },\r\n    \r\n  ]*/\n\n\n  _s(PaginatedItems, \"HTeX8cSP+G2jiDQZoJcFFLxPhRM=\");\n\n  let cardPost = null;\n\n  if (!!selectedCard) {\n    cardPost = /*#__PURE__*/_jsxDEV(CardPost, {\n      CardData: selectedCard,\n      onBgClick: onCardCloseClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 16\n    }, this);\n  }\n\n  const handleClick = gameState => {\n    setGame(gameState);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"HeadSearch1\",\n      children: \"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searh\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search2\",\n        children: [\"\\u0E43\\u0E2A\\u0E48\\u0E04\\u0E33\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\", /*#__PURE__*/_jsxDEV(SearchBox, {\n          value: searchText,\n          onValueChange: setSearchText,\n          placeholder: \"\\u0E04\\u0E33\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 44\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search3\",\n        children: [\"\\u0E40\\u0E25\\u0E02\\u0E17\\u0E35\\u0E48\\u0E2B\\u0E19\\u0E31\\u0E07\\u0E2A\\u0E37\\u0E2D\", /*#__PURE__*/_jsxDEV(SearchBox, {\n          value: searchNo,\n          onValueChange: setSearchNo,\n          placeholder: \"\\u0E40\\u0E25\\u0E02\\u0E17\\u0E35\\u0E48\\u0E2B\\u0E19\\u0E31\\u0E07\\u0E2A\\u0E37\\u0E2D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search4\",\n        children: [\"\\u0E27\\u0E31\\u0E19\\u0E17\\u0E35\\u0E48 \", /*#__PURE__*/_jsxDEV(ConfigProvider, {\n          locale: locale,\n          children: /*#__PURE__*/_jsxDEV(RangePicker, {\n            value: hackValue || value,\n            disabledDate: disabledDate,\n            onCalendarChange: val => setDates(val),\n            onChange: val => setValue(val),\n            onOpenChange: onOpenChange,\n            format: \"DD/MM/YYYY\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 41\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chblog\",\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"delete\",\n          onClick: () => handleClick('card'),\n          color: \"primary\",\n          children: /*#__PURE__*/_jsxDEV(BlockOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"delete\",\n          onClick: () => handleClick('playing'),\n          color: \"primary\",\n          children: /*#__PURE__*/_jsxDEV(UnorderedListOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), (() => {\n      switch (game) {\n        case 'card':\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(PaginatedItems, {\n              itemsPerPage: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 25\n            }, this), cardPost]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 20\n          }, this);\n\n        case 'playing':\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chblog-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 50\n            }, this), /*#__PURE__*/_jsxDEV(Table, {\n              dataSource: filteredData,\n              rowKey: \"_id\",\n              className: \"search-table\",\n              defaultPageSize: \"2\",\n              children: [/*#__PURE__*/_jsxDEV(Column, {\n                render: record => /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: `http://localhost:5000/uploads/${record.pic}`,\n                    target: \"_blank\",\n                    children: /*#__PURE__*/_jsxDEV(FilePdfTwoTone, {\n                      twoToneColor: \"#ff0000\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 21\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Column, {\n                title: \"\\u0E40\\u0E23\\u0E37\\u0E48\\u0E2D\\u0E07\",\n                dataIndex: \"name\",\n                width: 900\n              }, \"name\", false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Column, {\n                render: record => /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: `http://localhost:5000/uploads/${record.pic}`,\n                    target: \"_blank\",\n                    children: \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Column, {\n                render: record => /*#__PURE__*/_jsxDEV(DownloadLink, {\n                  className: \"button-field-download\",\n                  filename: record.pic,\n                  label: \"Download\",\n                  children: [/*#__PURE__*/_jsxDEV(AiOutlineVerticalAlignBottom, {\n                    className: \"button-icon-download\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"button-text-download\",\n                    children: \"\\u0E14\\u0E32\\u0E27\\u0E19\\u0E4C\\u0E42\\u0E2B\\u0E25\\u0E14\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 61\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 20\n          }, this);\n\n        default:\n          return null;\n      }\n    })()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 183,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(Inmoney, \"MgTZER3GkZMuKHOTOPNnhQp+orA=\", false, function () {\n  return [useSelector];\n});\n\n_c = Inmoney;\nexport default Inmoney;\n\nvar _c;\n\n$RefreshReg$(_c, \"Inmoney\");","map":{"version":3,"sources":["C:/Users/false/Desktop/OCR-New-Kop/client/src/pages/user/inedu/Inedu.js"],"names":["React","useEffect","useState","useSelector","CardPost","Cards","SearchBox","ReactPaginate","registerLocale","setDefaultLocale","th","BlockOutlined","UnorderedListOutlined","FilePdfTwoTone","getInEdu","toast","ConfigProvider","DatePicker","Table","AiOutlineVerticalAlignBottom","DownloadLink","locale","IconButton","Inmoney","selectedCard","setSelectedCard","searchText","setSearchText","searchNo","setSearchNo","RangePicker","hackValue","setHackValue","value","setValue","dates","setDates","person","setPerson","user","state","game","setGame","Column","ColumnGroup","loadPerson","token","authtoken","then","res","data","console","log","catch","err","error","disabledDate","current","length","tooLate","diff","tooEarly","onOpenChange","open","undefined","onCardOpenClick","theCard","onCardCloseClick","filteredCards","filter","name","includes","locate","filteredData","CardData","cardElements","map","index","Items","currentItems","PaginatedItems","itemsPerPage","setCurrentItems","pageCount","setPageCount","itemOffset","setItemOffset","endOffset","slice","Math","ceil","handlePageClick","event","newOffset","selected","cardPost","handleClick","gameState","val","record","pic"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport CardPost from './Card/CardPost';\r\nimport Cards from './Card/Cards';\r\nimport SearchBox from '../../../components/UserComponent/SearchBox/SearchBox';\r\nimport './inobj.css';\r\nimport ReactPaginate from 'react-paginate';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { registerLocale, setDefaultLocale } from  \"react-datepicker\";\r\nimport th from 'date-fns/locale/th';\r\nimport { BlockOutlined, UnorderedListOutlined, FilePdfTwoTone } from '@ant-design/icons';\r\nimport { getInEdu } from '../../../functions/inedu';\r\nimport { toast } from 'react-toastify';\r\nimport { ConfigProvider, DatePicker , Table} from 'antd';\r\nimport { AiOutlineVerticalAlignBottom} from \"react-icons/ai\";\r\nimport DownloadLink from \"react-download-link\";\r\nimport locale from 'antd/lib/locale/th_TH';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\n\r\n\r\nfunction Inmoney() {\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [searchText, setSearchText] = useState('');\r\n  const [searchNo, setSearchNo] = useState('');\r\n  const { RangePicker } = DatePicker;\r\n  const [hackValue, setHackValue] = useState();\r\n  const [value, setValue] = useState();\r\n  const [dates, setDates] = useState([]);\r\n  const [person, setPerson] = useState([]);\r\n  const { user } = useSelector((state) => ({ ...state }))\r\n  const [game, setGame] = useState('card')\r\n  const { Column, ColumnGroup } = Table;\r\n\r\n  useEffect(() => {\r\n    loadPerson(user.token);\r\n  }, [])\r\n\r\n  const loadPerson = (authtoken) => {\r\n    getInEdu(authtoken)\r\n        .then((res) => {\r\n            setPerson(res.data)\r\n            console.log(res.data)\r\n        }).catch((err) => {\r\n            toast.error(err)\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nregisterLocale('th', th)\r\n\r\nconst disabledDate = current => {\r\n  if (!dates || dates.length === 0) {\r\n    return false;\r\n  }\r\n  const tooLate = dates[0] && current.diff(dates[0], 'days') > 7;\r\n  const tooEarly = dates[1] && dates[1].diff(current, 'days') > 7;\r\n  return tooEarly || tooLate;\r\n};\r\n\r\nconst onOpenChange = open => {\r\n  if (open) {\r\n    setHackValue([]);\r\n    setDates([]);\r\n  } else {\r\n    setHackValue(undefined);\r\n  }\r\n};\r\n\r\n  function onCardOpenClick(theCard){\r\n    setSelectedCard(theCard);\r\n  }\r\n\r\n  function onCardCloseClick(){\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  const filteredCards = person.filter((person) => person.name.includes(searchText)).filter((person) => person.locate.includes(searchNo))\r\n  const filteredData = person.filter((CardData) => CardData.name.includes(searchText)).filter((CardData) => CardData.locate.includes(searchNo))\r\n\r\n  const cardElements = filteredCards.map((CardData, index) => {\r\n      return <Cards key={index} CardData={CardData} onCardClick={onCardOpenClick}/>;\r\n  });\r\n\r\n  function Items({ currentItems }) {\r\n    return (\r\n      <>\r\n        {currentItems &&\r\n          currentItems.map((cardElements) => (\r\n            <div>\r\n              {cardElements}\r\n            </div>\r\n          ))}\r\n      </>\r\n    );\r\n  }\r\n\r\n  function PaginatedItems({ itemsPerPage }) {\r\n    // We start with an empty list of items.\r\n    const [currentItems, setCurrentItems] = useState(null);\r\n    const [pageCount, setPageCount] = useState(0);\r\n    // Here we use item offsets; we could also use page offsets\r\n    // following the API or data you're working with.\r\n    const [itemOffset, setItemOffset] = useState(0);\r\n  \r\n    useEffect(() => {\r\n \r\n  \r\n      // Fetch items from another resources.\r\n      const endOffset = itemOffset + itemsPerPage;\r\n      console.log(`Loading items from ${itemOffset} to ${endOffset}`);\r\n      setCurrentItems(cardElements.slice(itemOffset, endOffset));\r\n      setPageCount(Math.ceil(cardElements.length / itemsPerPage));\r\n    }, [itemOffset, itemsPerPage]);\r\n  \r\n    // Invoke when user click to request another page.\r\n    const handlePageClick = (event) => {\r\n      const newOffset = (event.selected * itemsPerPage) % cardElements.length;\r\n      console.log(\r\n        `User requested page number ${event.selected}, which is offset ${newOffset}`\r\n      );\r\n      setItemOffset(newOffset);\r\n    };\r\n\r\n  \r\n    return (\r\n      <><div className=\"app-grid\">\r\n        <Items currentItems={currentItems} />\r\n        <ReactPaginate\r\n          breakLabel=\"...\"\r\n          nextLabel=\">\"\r\n          onPageChange={handlePageClick}\r\n          pageRangeDisplayed={5}\r\n          pageCount={pageCount}\r\n          previousLabel=\"<\"\r\n          renderOnZeroPageCount={null}\r\n          containerClassName={\"paginationBttns\"}\r\n          previousClassName={\"previousBttn\"}\r\n          nextLinkClassName={\"nextBttn\"}\r\n          disabledClassName={\"paginationDisabled\"}\r\n          activeClassName={\"paginationActive\"}\r\n          pageRangeDisplayed={2}\r\n          marginPagesDisplayed={2}\r\n        />\r\n        </div>\r\n\r\n      </>\r\n    );\r\n  }\r\n\r\n  /*const columns = [\r\n\r\n    {\r\n      title: 'เรื่อง',\r\n      dataIndex: 'name',\r\n      key: 'name'\r\n    },\r\n    {\r\n        title: 'Download',\r\n        render: (record) => (\r\n            <DownloadLink className=\"button-field-download\"  filename={record.pic} label=\"Download\" >\r\n               \r\n                <AiOutlineVerticalAlignBottom className=\"button-icon-download\"/>          \r\n                <div className=\"button-text-download\">\r\n                ดาวน์โหลด</div>\r\n            </DownloadLink>\r\n        )\r\n    },\r\n    \r\n\r\n]*/\r\n\r\n  let cardPost = null;\r\n  if(!!selectedCard){\r\n    cardPost = <CardPost CardData={selectedCard} onBgClick={onCardCloseClick}/>\r\n  }\r\n\r\n  const handleClick = (gameState) => {\r\n    setGame(gameState)\r\n  }\r\n\r\n  return (\r\n    <div ><div className='HeadSearch1'>ค้นหา</div>\r\n      <div className=\"searh\">\r\n        <div className=\"search2\">ใส่คำค้นหา<SearchBox value={searchText} onValueChange={setSearchText} placeholder=\"คำค้นหา\"/></div>\r\n        <div className=\"search3\">เลขที่หนังสือ<SearchBox value={searchNo} onValueChange={setSearchNo} placeholder=\"เลขที่หนังสือ\"/></div>\r\n        <div className=\"search4\">วันที่ <ConfigProvider locale={locale}> \r\n        <RangePicker\r\n            value={hackValue || value}\r\n            disabledDate={disabledDate}\r\n            onCalendarChange={val => setDates(val)}\r\n            onChange={val => setValue(val)}\r\n            onOpenChange={onOpenChange}\r\n            format= 'DD/MM/YYYY'\r\n            /></ConfigProvider></div>\r\n        <div className=\"chblog\">\r\n        <IconButton aria-label=\"delete\" onClick={ () => handleClick('card')} color=\"primary\"> \r\n        <BlockOutlined />\r\n      </IconButton>\r\n      <IconButton aria-label=\"delete\" onClick={ () => handleClick('playing')} color=\"primary\"> \r\n        <UnorderedListOutlined />\r\n      </IconButton>\r\n        </div>\r\n      </div> \r\n      {(() => {\r\n        switch (game) {\r\n          case 'card':\r\n            return <div><PaginatedItems itemsPerPage={12} />{cardPost}</div>\r\n          case 'playing':\r\n            return <div className=\"chblog-table\"><div></div><Table dataSource={filteredData} rowKey=\"_id\" className=\"search-table\" defaultPageSize= \"2\">\r\n                <Column render={ (record) => (\r\n                <>\r\n                    <a href={`http://localhost:5000/uploads/${record.pic}`} target=\"_blank\" >\r\n                    <FilePdfTwoTone twoToneColor=\"#ff0000\"/>\r\n                    </a>\r\n                </>\r\n            )}></Column>\r\n                <Column title=\"เรื่อง\" dataIndex=\"name\" key=\"name\" width={900}></Column>\r\n                \r\n                <Column render={ (record) => (\r\n                <>\r\n                    <a href={`http://localhost:5000/uploads/${record.pic}`} target=\"_blank\" >\r\n                    รายละเอียด\r\n                    </a>\r\n                </>\r\n            )}></Column>\r\n            <Column render={(record) => (\r\n                      <DownloadLink className=\"button-field-download\"  filename={record.pic} label=\"Download\" >        \r\n                          <AiOutlineVerticalAlignBottom className=\"button-icon-download\"/>          \r\n                          <div className=\"button-text-download\">\r\n                          ดาวน์โหลด</div>\r\n                      </DownloadLink>\r\n                  )}></Column>\r\n              \r\n              </Table></div>\r\n          default:\r\n            return null\r\n        }\r\n\r\n      })()}\r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default Inmoney\r\n"]},"metadata":{},"sourceType":"module"}